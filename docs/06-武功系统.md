# 天下MUD - 武功系统

## 技能目录结构

- **基础技能**: `/daemon/skill/basic/` (32个基础技能)
- **少林武功**: `/daemon/skill/shaolin/`
- **华山武功**: `/daemon/skill/huashan/`
- **唐门武功**: `/daemon/skill/tangmen/`
- **丐帮武功**: `/daemon/skill/gaibang/`
- **镜海武功**: `/daemon/skill/jinghai/`
- **踏雪武功**: `/daemon/skill/taxue/`

## 基础技能系统 (32种)

### 战斗技能

**1. force.c - 内功**
- 所有武功的基础
- 决定内力上限
- 影响武功威力

**2. unarmed.c - 空手/拳法**
- 徒手战斗技能
- 各门派拳掌的基础

**3. sword.c - 剑法**
- 剑类武器使用技能
- 华山等门派的主要技能

**4. blade.c - 刀法**
- 刀类武器使用技能
- 各门派刀法的基础

**5. staff.c - 棍法/杖法**
- 棍杖类武器技能
- 少林韦陀棍等

**6. whip.c - 鞭法**
- 鞭类武器技能
- 软兵器技能

**7. dodge.c - 轻功/身法**
- 移动和闪避技能
- 影响战斗中的躲避

**8. parry.c - 招架**
- 格挡和防御技能
- 影响防御效果

**9. throwing.c - 暗器**
- 投掷类武器技能
- 唐门的特色技能

### 辅助技能

**10. literate.c - 读书识字**
- 学习秘籍的必要技能
- 影响学习效率

**11. medicine.c - 医术**
- 治疗和炼药
- 唐门、华佗等特色

**12. perception.c - 禅定**
- 提升悟性
- 少林特色技能

**13. stealing.c - 偷盗**
- 盗窃技能
- 江湖流氓特色

**14. begging.c - 乞讨**
- 乞讨获取钱财
- 丐帮特色技能

### 特殊技能

**15. iron-cloth.c - 铁布衫**
- 外功防御
- 提升防御力

**16. magic.c - 法术**
- 特殊法术技能

**17. spells.c - 咒语**
- 咒语类技能

**18-32. 其他技能**
- 包括各种特殊和专门技能

## 少林武功

**技能目录**: `/daemon/skill/shaolin/`
**Perform目录**: `/daemon/class/shaolin/`

### 内功心法

**1. yiqi-force.c - 易气诀**
- **类型**: 基础内功
- **特点**: 少林入门心法
- **要求**: 无
- **效果**: 提升内力和力量

**2. dacheng-fofa.c - 大乘佛法**
- **类型**: 高级禅法
- **特点**: 提升悟性和禅定
- **要求**: 一定的佛学修为
- **效果**: 增强内力恢复

### 拳掌功夫

**1. changquan.c - 少林长拳**
- **类型**: 入门拳法
- **基础技能**: unarmed
- **要求**: 无
- **特点**:
  - 少林基础拳法
  - 简单实用
  - 为学习高级拳法打基础

**2. luohan-quan.c - 罗汉拳**
- **类型**: 高级拳法
- **基础技能**: unarmed
- **前置要求**:
  - 长拳 100级
  - 易气诀 100级
- **招式** (8式):
  1. 猴儿跳涧
  2. 狮子出洞
  3. 仙人指路
  4. 罗汉降魔
  5. 金刚伏虎
  6. 猛虎下山
  7. 力劈华山
  8. 横扫千军
- **effective_level**: 12
- **特点**: 威猛刚劲，招式多变

### 剑法

**damo-sword.c - 达摩剑法**
- **类型**: 剑法
- **基础技能**: sword
- **特点**: 少林剑法，配合内功使用

### 刀法

**cibei-blade.c - 慈悲刀法**
- **类型**: 刀法
- **基础技能**: blade
- **特点**: 以慈悲为怀，刀法中正平和

### 棍法

**weituo-gun.c - 韦陀棍法**
- **类型**: 棍法
- **基础技能**: staff
- **特点**: 少林看家本领之一

### 杖法

**jingang.c - 金刚杖法**
- **类型**: 杖法
- **基础技能**: staff
- **特点**: 刚猛有力

### 身法轻功

**ganchan.c - 干蝉身法**
- **类型**: 轻功
- **基础技能**: dodge
- **特点**: 身轻如蝉，飘忽不定

### 特殊技能

**chanting.c - 诵经**
- **类型**: 特殊技能
- **特点**: 少林独有，提升禅定

### 少林武功秘籍

- damo-sword_book.c - 达摩剑谱
- changquan_book.c - 长拳秘籍
- ganchan_book.c - 干蝉身法谱
- jingang_book.c - 金刚秘籍

## 华山武功

**技能目录**: `/daemon/skill/huashan/`
**Perform目录**: `/daemon/class/huashan/`

### 内功心法

**zixia-force.c - 紫霞神功**
- **类型**: 内功
- **特点**: 华山正宗心法
- **要求**: 华山弟子
- **效果**:
  - 提升内力
  - 配合剑法威力倍增
  - 气宗路线核心

### 剑法

**1. huashan-sword.c - 华山剑法**
- **类型**: 基础剑法
- **基础技能**: sword
- **特点**:
  - 华山入门剑法
  - 招式精妙
  - 气宗路线
- **限制**: 学此剑法不能学独孤九剑

**2. dugu-sword.c - 独孤九剑**
- **类型**: 绝世剑法
- **基础技能**: sword
- **前置要求**:
  - 悟性 >= 31
  - 不能学过华山剑法
  - 必须是华山弟子
- **招式** (6式):
  1. 破剑式 - 破解各种剑法
  2. 破刀式 - 破解各种刀法
  3. 破枪式 - 破解枪戟
  4. 破鞭式 - 破解鞭类软兵器
  5. 破索式 - 破解绳索类
  6. 破掌式 - 破解拳掌
- **effective_level**: 11 (攻击), 13 (防御)
- **特点**:
  - 无招胜有招
  - 以攻代守
  - 招架效果特别高
  - 剑宗路线核心

### 掌法

**fuyunshou.c - 扶云手**
- **类型**: 掌法
- **基础技能**: unarmed
- **特点**: 华山掌法，身法飘逸

### 身法轻功

**lingyun-steps.c - 凌云步法**
- **类型**: 轻功
- **基础技能**: dodge
- **特点**:
  - 轻盈飘逸
  - 移动迅速
  - 配合剑法使用

### Perform绝招

**独孤九剑绝招** (/daemon/class/huashan/dugu-sword/):
- **yujian** - 御剑式
  - 以剑气御敌
  - 远程攻击
  - 消耗内力

- **dang** - 挡剑式
  - 格挡敌人攻击
  - 防御反击
  - 以攻代守

### 华山剑气之争

**气宗路线**:
- 学习紫霞神功
- 学习华山剑法
- 注重内功修为
- 以气驭剑

**剑宗路线**:
- 学习独孤九剑
- 不能学华山剑法
- 注重剑法技巧
- 无招胜有招

## 唐门武功

**技能目录**: `/daemon/skill/tangmen/`
**Perform目录**: `/daemon/class/tangmen/`

### 内功心法

**tang-force.c - 唐门心法**
- **类型**: 内功
- **特点**: 唐门独门心法
- **效果**: 配合暗器和毒功使用

### 剑法

**liuhua-sword.c - 流花剑法**
- **类型**: 剑法
- **基础技能**: sword
- **特点**: 唐门剑法，招式飘逸

### 掌法

**wuying-zhang.c - 无影掌**
- **类型**: 掌法
- **基础技能**: unarmed
- **特点**: 掌法诡异，难以捉摸

### 身法轻功

**tianchan-steps.c - 天蝉步法**
- **类型**: 轻功
- **基础技能**: dodge
- **特点**:
  - 身法飘忽
  - 适合暗器投掷
  - 快速闪避

### 暗器绝学

**feixue-liantian.c - 飞雪连天**
- **类型**: 暗器
- **基础技能**: throwing
- **招式** (6式):
  1. 漫天花雨
  2. 梨花飞舞
  3. 暗器疾射
  4. 连珠箭
  5. 满天星
  6. 飞雪连天
- **effective_level**: 12
- **特点**:
  - 专精暗器投掷
  - 特殊机制: post_action
  - 可连续投掷
  - 唐门看家本领

### 毒术

**tang-du.c - 唐门毒术**
- **类型**: 特殊技能
- **特点**:
  - 用毒下毒
  - 炼制毒药
  - 配合暗器使用

### 唐门武功秘籍

- tang-du_book.c - 唐门毒术
- medicine_book.c - 医术秘籍
- tianchan-steps_book.c - 天蝉步法
- liuhua-sword_book.c - 流花剑法
- wuying-zhang_book.c - 无影掌法

## 丐帮武功

**技能目录**: `/daemon/skill/gaibang/`

### 内功心法

**1. gaibang-force.c - 丐帮内功**
- 丐帮基础内功

**2. taizu-force.c - 太祖内功**
- 太祖长拳配套内功

**3. liuyi-force.c - 六艺内功**
- 高级内功心法

### 拳掌功夫

**1. taizu-changquan.c - 太祖长拳**
- 丐帮基础拳法

**2. xianglong-zhang.c - 降龙掌**
- 丐帮绝学
- 威力巨大
- 刚猛无比

**3. feitian-zhang.c - 飞天掌**
- 掌法轻灵

**4. lianhua-zhang.c - 莲花掌**
- 掌法柔和

### 刀法

**qimen-blade.c - 奇门刀法**
- 丐帮刀法

### 棍法

**taizu-gun.c - 太祖棍法**
- 配合打狗棒法

### 手法

**1. chansi-shou.c - 缠丝手**
- 擒拿技巧

**2. qinlong-shou.c - 擒龙手**
- 抓取技能

### 身法轻功

**1. gaibang-steps.c - 丐帮步法**
- 基础身法

**2. wanli-steps.c - 万里步法**
- 高级轻功

## 镜海武功

**技能目录**: `/daemon/skill/jinghai/`

### 内功心法

**jinghai-force.c - 镜海内功**
- 镜海独门心法

### 剑法

**1. bibo-sword.c - 碧波剑法**
- 水系剑法

**2. moonlight-sword.c - 月光剑法**
- 飘逸剑法

### 刀法

**longjiao-blade.c - 龙角刀法**
- 刚猛刀法

### 指法

**canhe-zhi.c - 残鹤指**
- 特殊指法

### 弓法

**houyi-bow.c - 后羿弓法**
- 远程攻击

### 身法轻功

**xian-steps.c - 仙步**
- 轻盈身法

### 特殊技能

**1. jiachuan-shu.c - 家传术**
- 镜海家传技能

**2. pengtiao-shu.c - 鹏跳术**
- 跳跃技能

**3. liangqing-xiangyi.c - 良晴相宜**
- 特殊功法

## 踏雪武功

**技能目录**: `/daemon/skill/taxue/`

### 内功心法

**taxue-force.c - 踏雪内功**
- 踏雪山庄心法

### 剑法

**fenghui-sword.c - 风回剑法**
- 剑法飘逸如风

### 掌法

**chuanyun-zhang.c - 穿云掌**
- 掌力穿透

### 身法轻功

**xueli-steps.c - 雪里步法**
- 雪中行走如履平地

## 武功学习系统

### 学习途径

**1. 拜师学习**
- 向门派师傅学习
- 需要满足前置要求
- 需要支付学费

**2. 研读秘籍**
- 获得武功秘籍
- 需要读书识字技能
- 需要一定悟性

**3. 比划学习**
- 特殊武功如独孤九剑
- 通过实战领悟
- 需要高悟性

### 学习要求

**属性要求**:
- 悟性 (int) - 影响学习速度
- 根骨 (con) - 影响内功修炼
- 力量 (str) - 影响某些武功

**前置技能**:
- 基础技能等级
- 前置武功等级
- 内功等级要求

**门派限制**:
- 某些武功只有门派弟子可学
- 某些武功有路线冲突

## 武功威力系统

### Effective Level

武功威力由 effective_level 决定：

- **8-9级**: 普通武功
- **10-11级**: 优秀武功
- **12级**: 精品武功
- **13级**: 绝世武功

### 威力影响因素

1. **技能等级**: 武功本身的等级
2. **基础技能**: 对应基础技能的等级
3. **内功**: 内功等级和内力
4. **属性**: 力量、悟性等属性
5. **装备**: 武器和装备加成

### 特殊加成

**少林易筋经**:
- 1-2重: +1 ~ +2
- 3-9重: +4 ~ +16
- 10-12重: +26 ~ +46

## Perform绝招系统

### 绝招机制

- 使用特殊命令 `perform 绝招名`
- 消耗更多内力
- 威力远超普通攻击
- 有特殊效果

### 绝招示例

**华山独孤九剑**:
```
perform yujian  // 御剑式
perform dang    // 挡剑式
```

**少林罗汉拳**:
```
perform 降魔    // 罗汉降魔
perform 伏虎    // 金刚伏虎
```

## 武功搭配

### 内功+招式

所有武功都需要配合内功使用：
- 内功提供内力
- 内功增强威力
- 内功影响持久力

### 轻功+武功

轻功配合战斗武功：
- 提升闪避
- 快速移动
- 战术机动

### 暗器+毒术

唐门特色搭配：
- 暗器涂毒
- 毒上加毒
- 防不胜防

## 武功修炼

### 修炼方式

**1. 练习 (practice)**
- 消耗精力
- 缓慢提升
- 安全稳定

**2. 战斗提升**
- 实战中使用
- 快速提升learned值
- 有风险

**3. 师傅指点**
- 向师傅学习
- 提升上限
- 需要学费

### 修炼境界

- **初学** (1-30级): 入门阶段
- **小成** (31-60级): 有所成就
- **大成** (61-100级): 炉火纯青
- **圆满** (101-150级): 登堂入室
- **宗师** (151-200级): 一代宗师
- **化境** (201-250级): 返璞归真
- **天人** (251-300级): 天人合一

## 武功秘籍系统

### 秘籍类型

**1. 门派秘籍**
- 由师傅赠送
- 完成任务获得
- 门派内部流传

**2. 江湖秘籍**
- 打怪掉落
- 商店购买
- 任务奖励

**3. 绝学秘籍**
- 极其稀有
- 特殊机缘获得
- 价值连城

### 秘籍使用

1. 获得秘籍
2. 满足要求（读书识字、悟性）
3. 研读秘籍 (study)
4. 学会武功

## 武功总结

天下MUD的武功系统特点：

- **32种基础技能** - 涵盖所有武功类型
- **6大门派武功** - 各具特色
- **技能映射系统** - 基础与高级结合
- **Perform绝招** - 特殊技能增加战术深度
- **修炼系统** - 提供长期目标
- **秘籍系统** - 增加探索乐趣

这个庞大而精细的武功系统，为玩家提供了丰富的武学修炼体验和多样化的发展路线。
